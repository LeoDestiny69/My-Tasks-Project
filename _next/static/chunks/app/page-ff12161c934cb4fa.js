(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4227:function(e,t,s){Promise.resolve().then(s.bind(s,3812))},357:function(e,t,s){"use strict";var r,o;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(o=s.g.process)?void 0:o.env)?s.g.process:s(8081)},8081:function(e){!function(){var t={229:function(e){var t,s,r,o=e.exports={};function n(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var i=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?i=r.concat(i):d=-1,i.length&&h())}function h(){if(!c){var e=l(u);c=!0;for(var t=i.length;t;){for(r=i,i=[];++d<t;)r&&r[d].run();d=-1,t=i.length}r=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function x(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];i.push(new m(e,t)),1!==i.length||c||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=x,o.addListener=x,o.once=x,o.off=x,o.removeListener=x,o.removeAllListeners=x,o.emit=x,o.prependListener=x,o.prependOnceListener=x,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},s={};function r(e){var o=s[e];if(void 0!==o)return o.exports;var n=s[e]={exports:{}},a=!0;try{t[e](n,n.exports,r),a=!1}finally{a&&delete s[e]}return n.exports}r.ab="//";var o=r(229);e.exports=o}()},5725:function(e,t,s){"use strict";s.d(t,{default:function(){return n}});var r=s(7437);s(2265);var o=s(7138);function n(){return(0,r.jsxs)("div",{className:"navbar bg-base-100 shadow-sm fixed top-0 left-0 right-0 z-50",children:[(0,r.jsx)("div",{className:"flex-none lg:hidden",children:(0,r.jsx)("button",{onClick:()=>{console.log("Menu button clicked (Mobile)")},className:"btn btn-square btn-ghost",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-5 w-5 stroke-current",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(o.default,{href:"/",className:"btn btn-ghost text-xl normal-case",children:"MyTasks"})}),(0,r.jsx)("div",{className:"flex-none"})]})}},3812:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(7437),o=s(2265),n=s(5725);function a(){return(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-center mb-10 text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:"My To-Do List"})}function l(e){let{newTodoTitle:t,setNewTodoTitle:s,newTodoDescription:o,setNewTodoDescription:n,newTodoDueDate:a,setNewTodoDueDate:l,newTodoPriority:i,setNewTodoPriority:c,addTodo:d}=e;return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d()},className:"mb-8 space-y-4",children:[(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Task Title"})}),(0,r.jsx)("input",{type:"text",placeholder:"e.g., Buy groceries",className:"input input-bordered w-full",value:t,onChange:e=>s(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Description (Optional)"})}),(0,r.jsx)("textarea",{placeholder:"Detailed description of the task",className:"textarea textarea-bordered h-24 w-full",value:o,onChange:e=>n(e.target.value)})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Due Date (Optional)"})}),(0,r.jsx)("input",{type:"datetime-local",className:"input input-bordered w-full",value:a,onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Priority Level"})}),(0,r.jsxs)("select",{className:"select select-bordered w-full",value:i,onChange:e=>c(e.target.value),children:[(0,r.jsx)("option",{value:"Low",children:"Low"}),(0,r.jsx)("option",{value:"Medium",children:"Medium"}),(0,r.jsx)("option",{value:"High",children:"High"})]})]}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary w-full",children:"Add New Task"})]})}function i(e){let{todo:t,toggleTodoStatus:s,deleteTodo:o}=e,n=new Date(t.created_at).toLocaleString(),a=t.due_date?new Date(t.due_date).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No due date",l={Low:"text-gray-400",Medium:"text-yellow-400",High:"text-red-400"}[t.priority||"Medium"];return(0,r.jsxs)("li",{className:"bg-base-300 p-4 rounded-lg shadow-md flex items-center justify-between\n        ".concat("Completed"===t.status?"opacity-70 line-through":"","\n      "),children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"text-lg font-medium ".concat("Completed"===t.status?"text-green-400":"text-blue-400"),children:t.title}),t.description&&(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:t.description}),(0,r.jsxs)("p",{className:"text-gray-500 text-xs",children:["Created: ",n]}),(0,r.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:["Due: ",(0,r.jsx)("span",{className:"font-semibold",children:a})]}),(0,r.jsxs)("p",{className:"text-xs font-semibold ".concat(l),children:["Priority: ",t.priority||"Medium"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:"Completed"===t.status,onChange:()=>{s(t)}}),(0,r.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]}),(0,r.jsx)("button",{onClick:()=>{o(t.id)},className:"btn btn-ghost btn-circle text-red-500 hover:text-red-700",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})}function c(e){let{pendingTodos:t,completedTodos:s,isLoading:o,error:n,toggleTodoStatus:a,deleteTodo:l}=e;return o?(0,r.jsxs)("div",{role:"alert",className:"alert alert-info shadow-lg mb-4",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"Loading tasks..."})]}):n?(0,r.jsxs)("div",{role:"alert",className:"alert alert-error shadow-lg mb-4",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{children:["Error: ",n]})]}):(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-primary",children:"Pending Tasks"}),0===t.length?(0,r.jsxs)("div",{className:"alert alert-success shadow-lg mb-8",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"All tasks completed! Or add a new one."})]}):(0,r.jsx)("ul",{className:"space-y-4 mb-8",children:t.map(e=>(0,r.jsx)(i,{todo:e,toggleTodoStatus:a,deleteTodo:l},e.id))}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-success",children:"Completed Tasks"}),0===s.length?(0,r.jsxs)("div",{className:"alert alert-warning shadow-lg",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,r.jsx)("span",{children:"No completed tasks yet."})]}):(0,r.jsx)("ul",{className:"space-y-4",children:s.map(e=>(0,r.jsx)(i,{todo:e,toggleTodoStatus:a,deleteTodo:l},e.id))})]})}let d=s(357).env.NEXT_PUBLIC_BACKEND_URL;function u(){let[e,t]=(0,o.useState)([]),[s,i]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),[f,p]=(0,o.useState)("Medium"),[g,w]=(0,o.useState)(!0),[b,j]=(0,o.useState)(null);(0,o.useEffect)(()=>{v()},[]);let v=async()=>{w(!0),j(null);try{if(!d){console.error("Backend URL is not defined!"),j("Configuration error: Backend URL not set."),w(!1);return}console.log("Fetching todos from:","".concat(d,"/todos"));let e=await fetch("".concat(d,"/todos"),{cache:"no-store"});if(!e.ok){let t=await e.text();throw Error("HTTP error! Status: ".concat(e.status,". Message: ").concat(t))}let s=(await e.json()).map(e=>({...e,status:e.is_completed?"Completed":"Pending"}));t(s)}catch(e){console.error("Error fetching todos:",e),j(e.message||"Failed to fetch tasks.")}finally{w(!1)}},k=async()=>{if(!s.trim()){console.warn("Task title cannot be empty!"),j("Task title cannot be empty!");return}try{if(!d){console.error("Backend URL is not defined!"),j("Configuration error: Backend URL not set.");return}console.log("Adding todo to:","".concat(d,"/todos"));let e=await fetch("".concat(d,"/todos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s,description:u,due_date:m||null,priority:f})});if(!e.ok){let t=await e.text();throw Error("HTTP error! Status: ".concat(e.status,". Message: ").concat(t))}let r=await e.json(),o={...r,status:r.is_completed?"Completed":"Pending"};t(e=>[...e,o]),i(""),h(""),x(""),p("Medium"),console.log("Task added successfully:",r)}catch(e){console.error("Error adding todo:",e),j(e.message||"Failed to add task.")}},y=async e=>{try{if(!d){console.error("Backend URL is not defined!"),j("Configuration error: Backend URL not set.");return}let s={...e,is_completed:!e.is_completed},r=await fetch("".concat(d,"/todos/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_completed:s.is_completed})});if(!r.ok){let e=await r.text();throw Error("HTTP error! Status: ".concat(r.status,". Message: ").concat(e))}let o=await r.json(),n={...o,status:o.is_completed?"Completed":"Pending"};t(t=>t.map(t=>t.id===e.id?n:t)),console.log("Task status toggled:",o)}catch(e){console.error("Error toggling todo status:",e),j(e.message||"Failed to toggle task status.")}},N=async e=>{try{if(!d){console.error("Backend URL is not defined!"),j("Configuration error: Backend URL not set.");return}let s=await fetch("".concat(d,"/todos/").concat(e),{method:"DELETE"});if(!s.ok){let e=await s.text();throw Error("HTTP error! Status: ".concat(s.status,". Message: ").concat(e))}t(t=>t.filter(t=>t.id!==e)),console.log("Task deleted successfully:",e)}catch(e){console.error("Error deleting todo:",e),j(e.message||"Failed to delete task.")}},{pendingTasks:T,completedTasks:L}=(0,o.useMemo)(()=>{let t=[...e].sort((e,t)=>new Date(e.created_at)-new Date(t.created_at));return{pendingTasks:t.filter(e=>"Pending"===e.status),completedTasks:t.filter(e=>"Completed"===e.status)}},[e]);return(0,r.jsxs)("div",{className:"min-h-screen bg-base-200 flex flex-col items-center",children:[(0,r.jsx)(n.default,{}),(0,r.jsxs)("div",{className:"card w-full max-w-2xl bg-base-100 shadow-xl p-8 my-8 mt-16",children:[(0,r.jsx)(a,{}),(0,r.jsx)(l,{newTodoTitle:s,setNewTodoTitle:i,newTodoDescription:u,setNewTodoDescription:h,newTodoDueDate:m,setNewTodoDueDate:x,newTodoPriority:f,setNewTodoPriority:p,addTodo:k}),(0,r.jsx)(c,{pendingTodos:T,completedTodos:L,isLoading:g,error:b,toggleTodoStatus:y,deleteTodo:N})]})]})}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=4227)}),_N_E=e.O()}]);